CREATE OR REPLACE PROCEDURE AI_FEATURE_HUB.WRITE_AUDIT(action STRING,entity STRING,entity_id STRING,actor STRING,meta VARIANT DEFAULT NULL) RETURNS VARIANT LANGUAGE SQL AS $$ INSERT INTO AI_FEATURE_HUB.BILLING_AUDIT(AUDIT_ID,INVOICE_ID,EVENT_TYPE,DETAILS) VALUES(LEFT(GENERATOR_RANDOM_STRING(),36),:3,:1,PARSE_JSON(:5)); RETURN 'OK'; $$;GRANT EXECUTE ON PROCEDURE AI_FEATURE_HUB.WRITE_AUDIT TO ROLE YOUR_RUN_ROLE;